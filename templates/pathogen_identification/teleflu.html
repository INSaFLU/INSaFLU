{% extends '_layouts/base.html' %}

{% load bootstrap4 %}
{% load querystring from django_tables2 %}
{% load title from django_tables2 %}
{% load trans blocktrans from i18n %}
{% load django_bootstrap_breadcrumbs %}
{% load static %}


{% block extra_messages %}
	<!-- set the messages -->
	<div class="container">
		<div id="id_messages_remove"></div>
	</div>
{% endblock %}

{% block breadcrumbs %}
{{block.super}}
{% breadcrumb "Project Index" "project-index" %}
{% breadcrumb "TELEVIR Projects" "PIprojects_main"  %}
{% breadcrumb project_name "PIproject_samples"  pk=project_index  %}
{% breadcrumb sample_name "" %}
{% endblock %}


{% block content %}

<style>
    .modal-title-description {
        font-size: 18px;
        color: #666;
        display: block;
        

    }
    
    .workflow-container {
        border: 1px solid #eee; /* Even lighter gray */
        padding: 10px;
        margin-bottom: 10px;
        display: flex;
        align-items: center;
        border-radius: 5px;
        background-color: #f9f9f9; /* Subtle background color */
    }
    .workflow-name {
        margin-left: 10px;
        margin-right: 20px;
        align-self: center;
    }
    .outer-container {
        margin-bottom: 20px; /* Adjust as needed */
    }
    .step-circle {
        display: inline-block;
        border-radius: 50%;
        width: 30px;
        height: 30px;
        line-height: 30px;
        text-align: center;
        background-color: #ccc;
        margin-right: 10px;
        margin-left: 5px;
    }

    .software_off {
        background-color: #ccc;
    }

    .software_on {
        background-color: #007bff;
    }

    .workflow-title {
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 10px;
        background-color: #f5f5f5; /* Light gray background */
        border-radius: 5px;
        margin-bottom: 0px;
        margin-right: 20px;
    }
    
    .workflow-name {
        font-size: 1.2em;
        font-weight: bold;
    }
    .step-container {
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 5px;
        background-color: #f5f5f5; /* Light gray background */
        border-radius: 5px;
    }
    

</style>


<div class="outer-container">
    <h3 class="title">Available Workflow List</h3>
    <p class="description">This is a list of all available workflows.</p>
    <div id="workflow-list">
        {% for workflow in workflows %}
            <div class="workflow-container">
                <div class="workflow-title">
                    <span class="workflow-name">Workflow {{ workflow.node }}</span>
                </div>
                <div class="step-container">

                {% for step in workflow.modules %}
                    <span class="step-circle {{ step.available }}" title="{{ step.module }}">{{ step.short_name }}</span>
                {% endfor %}
                </div>

            </div>
        {% endfor %}
    </div>
</div>
<div class="table-container">

    {% if insaflu_projects_exist %}
    <h3 class="table-title"> Insaflu  </h3>
    
    <div class="table-responsive">
        <table class="table table-hover table-bordered table-striped" {% if insaflu_table.attrs %}z
            {{ insaflu_table.attrs.as_html }}{% endif %}>
            <thead>
                <tr>
                    {% for column in insaflu_table.columns %}
                    {% if column.orderable %}
                        <th {{ column.attrs.th.as_html }}><a href="{% querystring insaflu_table.prefixed_order_by_field=column.order_by_alias.next %}">{{ column.header|title }}</a></th>
                    {% else %}
                        <th {{ column.attrs.th.as_html }}>{{ column.header|title }}</th>
                    {% endif %}
                    {% endfor %}
                </tr>
            </thead>
            <tbody>
                {% for row in insaflu_table.page.object_list|default:insaflu_table.rows %} {# support pagination #}
                  {% block insaflu_table.tbody.row %}
                  <tr id="row_{{ row.record.id }}" class="{% cycle "odd" "even" %}">
                    {% for column, cell in row.items %}
                      <td {{ column.attrs.td.as_html }}>{{ cell }}</td>
                    {% endfor %}
                  </tr>
                  {% endblock insaflu_table.tbody.row %}
                {% empty %}
                  {% if insaflu_table.empty_text %}
                  {% block insaflu_table.tbody.empty_text %}
                      <tr><td colspan="{{ insaflu_table.columns|length }}">{{ insaflu_table.empty_text }}</td></tr>
                  {% endblock insaflu_table.tbody.empty_text %}
                  {% endif %}
                {% endfor %}
            </tbody>
            <tfoot></tfoot>
        </table>
    </div>
    {% endif %}

    <a href="javascript:history.go(0)" class="btn btn-small btn-primary dark"><i class="fa fa-refresh"></i> Refresh</a>

</div>




{% endblock content %}

{% block js %}

{% load static from staticfiles %}

{% endblock js %}
